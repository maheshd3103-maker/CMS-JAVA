{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{userAPI}from'../services/api';import Sidebar from'../components/Sidebar';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserDashboard=()=>{const{userId}=useParams();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const fetchUser=async()=>{try{const response=await userAPI.getUserById(userId);setUser(response.data);}catch(error){console.error('Error fetching user:',error);navigate('/login');}finally{setLoading(false);}};fetchUser();},[userId,navigate]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"User not found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{userRole:\"USER\",userId:userId,activeItem:\"dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",user.username,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage your account and complaints from your dashboard\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate(\"/complaint/raise/\".concat(userId)),children:\"Raise a Complaint\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Account Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Account Number:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:user.accountNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"User Name:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:user.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Account Balance:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[\"\\u20B9\",user.accountBalance]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Account Type:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:user.accountType})]})]})]})]});};export default UserDashboard;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","userAPI","Sidebar","jsx","_jsx","jsxs","_jsxs","UserDashboard","userId","user","setUser","loading","setLoading","navigate","fetchUser","response","getUserById","data","error","console","className","children","userRole","activeItem","username","onClick","concat","accountNumber","accountBalance","accountType"],"sources":["C:/Users/2382082/Downloads/CMS/frontend/src/pages/UserDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { userAPI } from '../services/api';\nimport Sidebar from '../components/Sidebar';\nimport './Dashboard.css';\n\nconst UserDashboard = () => {\n  const { userId } = useParams();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await userAPI.getUserById(userId);\n        setUser(response.data);\n      } catch (error) {\n        console.error('Error fetching user:', error);\n        navigate('/login');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [userId, navigate]);\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!user) {\n    return <div className=\"error\">User not found</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar userRole=\"USER\" userId={userId} activeItem=\"dashboard\" />\n      <div className=\"main-content\">\n        <div className=\"header\">\n          <h1>Welcome, {user.username}!</h1>\n          <p>Manage your account and complaints from your dashboard</p>\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => navigate(`/complaint/raise/${userId}`)}\n          >\n            Raise a Complaint\n          </button>\n        </div>\n        \n        <div className=\"info-card\">\n          <h2>Account Details</h2>\n          <div className=\"info-row\">\n            <div className=\"info-label\">Account Number:</div>\n            <div className=\"info-value\">{user.accountNumber}</div>\n          </div>\n          <div className=\"info-row\">\n            <div className=\"info-label\">User Name:</div>\n            <div className=\"info-value\">{user.username}</div>\n          </div>\n          <div className=\"info-row\">\n            <div className=\"info-label\">Account Balance:</div>\n            <div className=\"info-value\">â‚¹{user.accountBalance}</div>\n          </div>\n          <div className=\"info-row\">\n            <div className=\"info-label\">Account Type:</div>\n            <div className=\"info-value\">{user.accountType}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
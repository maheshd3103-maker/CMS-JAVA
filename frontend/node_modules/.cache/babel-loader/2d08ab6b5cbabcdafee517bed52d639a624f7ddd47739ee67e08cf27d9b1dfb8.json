{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{complaintAPI}from'../services/api';import Sidebar from'../components/Sidebar';import'./Dashboard.css';import'./Forms.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyComplaints=()=>{const{userId}=useParams();const[complaints,setComplaints]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchComplaints=async()=>{try{const response=await complaintAPI.getMyComplaints(userId);setComplaints(response.data);}catch(error){console.error('Error fetching complaints:',error);}finally{setLoading(false);}};fetchComplaints();},[userId]);const getStatusClass=status=>{switch(status.toLowerCase()){case'pending':return'pending';case'in progress':return'in-progress';case'resolved':return'resolved';default:return'';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-layout\",children:[/*#__PURE__*/_jsx(Sidebar,{userRole:\"USER\",userId:userId,activeItem:\"my-complaints\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Complaints\"}),/*#__PURE__*/_jsx(\"p\",{children:\"View all your raised complaints\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Tracking ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Issue Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Submitted Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:complaints.length>0?complaints.map(complaint=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"tracking-id\",children:complaint.trackingId}),/*#__PURE__*/_jsx(\"td\",{children:complaint.complaintType}),/*#__PURE__*/_jsx(\"td\",{children:complaint.complaintDescription}),/*#__PURE__*/_jsx(\"td\",{children:complaint.issueDate}),/*#__PURE__*/_jsx(\"td\",{children:complaint.submittedDate}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(getStatusClass(complaint.status)),children:complaint.status})})]},complaint.complaintId)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"6\",className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No complaints found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You haven't raised any complaints yet.\"})]})})})]})})]})]});};export default MyComplaints;","map":{"version":3,"names":["React","useState","useEffect","useParams","complaintAPI","Sidebar","jsx","_jsx","jsxs","_jsxs","MyComplaints","userId","complaints","setComplaints","loading","setLoading","fetchComplaints","response","getMyComplaints","data","error","console","getStatusClass","status","toLowerCase","className","children","userRole","activeItem","length","map","complaint","trackingId","complaintType","complaintDescription","issueDate","submittedDate","concat","complaintId","colSpan"],"sources":["C:/Users/2382082/Downloads/CMS/frontend/src/pages/MyComplaints.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { complaintAPI } from '../services/api';\nimport Sidebar from '../components/Sidebar';\nimport './Dashboard.css';\nimport './Forms.css';\n\nconst MyComplaints = () => {\n  const { userId } = useParams();\n  const [complaints, setComplaints] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchComplaints = async () => {\n      try {\n        const response = await complaintAPI.getMyComplaints(userId);\n        setComplaints(response.data);\n      } catch (error) {\n        console.error('Error fetching complaints:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchComplaints();\n  }, [userId]);\n\n  const getStatusClass = (status) => {\n    switch (status.toLowerCase()) {\n      case 'pending': return 'pending';\n      case 'in progress': return 'in-progress';\n      case 'resolved': return 'resolved';\n      default: return '';\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"dashboard-layout\">\n      <Sidebar userRole=\"USER\" userId={userId} activeItem=\"my-complaints\" />\n      <div className=\"main-content\">\n        <div className=\"header\">\n          <h1>My Complaints</h1>\n          <p>View all your raised complaints</p>\n        </div>\n        \n        <div className=\"table-container\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Tracking ID</th>\n                <th>Type</th>\n                <th>Description</th>\n                <th>Issue Date</th>\n                <th>Submitted Date</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {complaints.length > 0 ? (\n                complaints.map((complaint) => (\n                  <tr key={complaint.complaintId}>\n                    <td className=\"tracking-id\">{complaint.trackingId}</td>\n                    <td>{complaint.complaintType}</td>\n                    <td>{complaint.complaintDescription}</td>\n                    <td>{complaint.issueDate}</td>\n                    <td>{complaint.submittedDate}</td>\n                    <td>\n                      <span className={`status ${getStatusClass(complaint.status)}`}>\n                        {complaint.status}\n                      </span>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"6\" className=\"empty-state\">\n                    <h3>No complaints found</h3>\n                    <p>You haven't raised any complaints yet.</p>\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MyComplaints;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,iBAAiB,CACxB,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,MAAO,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC9B,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,YAAY,CAACc,eAAe,CAACP,MAAM,CAAC,CAC3DE,aAAa,CAACI,QAAQ,CAACE,IAAI,CAAC,CAC9B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CAAC,OAAS,CACRL,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACL,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAW,cAAc,CAAIC,MAAM,EAAK,CACjC,OAAQA,MAAM,CAACC,WAAW,CAAC,CAAC,EAC1B,IAAK,SAAS,CAAE,MAAO,SAAS,CAChC,IAAK,aAAa,CAAE,MAAO,aAAa,CACxC,IAAK,UAAU,CAAE,MAAO,UAAU,CAClC,QAAS,MAAO,EAAE,CACpB,CACF,CAAC,CAED,GAAIV,OAAO,CAAE,CACX,mBAAOP,IAAA,QAAKkB,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,YAAU,CAAK,CAAC,CAClD,CAEA,mBACEjB,KAAA,QAAKgB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BnB,IAAA,CAACF,OAAO,EAACsB,QAAQ,CAAC,MAAM,CAAChB,MAAM,CAAEA,MAAO,CAACiB,UAAU,CAAC,eAAe,CAAE,CAAC,cACtEnB,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjB,KAAA,QAAKgB,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBnB,IAAA,OAAAmB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBnB,IAAA,MAAAmB,QAAA,CAAG,iCAA+B,CAAG,CAAC,EACnC,CAAC,cAENnB,IAAA,QAAKkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BjB,KAAA,UAAOgB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtBnB,IAAA,UAAAmB,QAAA,cACEjB,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBnB,IAAA,OAAAmB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBnB,IAAA,OAAAmB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBnB,IAAA,OAAAmB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBnB,IAAA,OAAAmB,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACGd,UAAU,CAACiB,MAAM,CAAG,CAAC,CACpBjB,UAAU,CAACkB,GAAG,CAAEC,SAAS,eACvBtB,KAAA,OAAAiB,QAAA,eACEnB,IAAA,OAAIkB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEK,SAAS,CAACC,UAAU,CAAK,CAAC,cACvDzB,IAAA,OAAAmB,QAAA,CAAKK,SAAS,CAACE,aAAa,CAAK,CAAC,cAClC1B,IAAA,OAAAmB,QAAA,CAAKK,SAAS,CAACG,oBAAoB,CAAK,CAAC,cACzC3B,IAAA,OAAAmB,QAAA,CAAKK,SAAS,CAACI,SAAS,CAAK,CAAC,cAC9B5B,IAAA,OAAAmB,QAAA,CAAKK,SAAS,CAACK,aAAa,CAAK,CAAC,cAClC7B,IAAA,OAAAmB,QAAA,cACEnB,IAAA,SAAMkB,SAAS,WAAAY,MAAA,CAAYf,cAAc,CAACS,SAAS,CAACR,MAAM,CAAC,CAAG,CAAAG,QAAA,CAC3DK,SAAS,CAACR,MAAM,CACb,CAAC,CACL,CAAC,GAVEQ,SAAS,CAACO,WAWf,CACL,CAAC,cAEF/B,IAAA,OAAAmB,QAAA,cACEjB,KAAA,OAAI8B,OAAO,CAAC,GAAG,CAACd,SAAS,CAAC,aAAa,CAAAC,QAAA,eACrCnB,IAAA,OAAAmB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BnB,IAAA,MAAAmB,QAAA,CAAG,wCAAsC,CAAG,CAAC,EAC3C,CAAC,CACH,CACL,CACI,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}